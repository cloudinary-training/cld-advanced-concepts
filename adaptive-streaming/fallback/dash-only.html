<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DASH ONLY</title>
    <link
      href="https://unpkg.com/cloudinary-video-player@1.3.5-edge.0/dist/cld-video-player.min.css"
      rel="stylesheet"
    />
    <link rel="icon" href="../../assets/favicon.png" type="image/png" />
  </head>

  <body>
    <h1>Cloudinary Video Player</h1>
    <h2>Adaptive streaming: Dash Only</h2>

    <p>
      What happens in Safari?
    </p>

    <video
      id="example-player"
      controls
      muted
      width="680"
      height="400"
      class="cld-video-player cld-video-player-skin-dark"
    ></video>

    <!-- Cloudinary Video Player Dependencies -->
    <script
      src="https://unpkg.com/cloudinary-core/cloudinary-core-shrinkwrap.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://unpkg.com/cloudinary-video-player@1.3.5-edge.0/dist/cld-video-player.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/dashjs/3.0.2/dash.all.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-dash/2.11.0/videojs-dash.min.js"
      type="text/javascript"
    ></script>

    <script type="text/javascript">
      const cld = cloudinary.Cloudinary.new({
        cloud_name: 'cloudinary-training'
      })

      // Initialize player
      const sources = {
        publicId: "whale",
        sourceTypes: ["dash/vp9","mp4"],
        sourceTransformation: {
          "dash/vp9": [
            {
              streaming_profile: "training_hd_vp9"
            }
          ],
          "mp4": [
            {
              raw_transformation: "q_auto"
            }
          ]
        }
      }
      const player = cld.videoPlayer("example-player")
      player.source(sources)
    </script>
  </body>
</html>
