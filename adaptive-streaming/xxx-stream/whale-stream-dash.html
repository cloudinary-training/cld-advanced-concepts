<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>DASH: Adpative Streaming/Cloudinary Video Player</title>

    <link
      href="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.css"
      rel="stylesheet"
    />
    <link href="./css/style.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="icon" href="../../assets/favicon.png" type="image/png" />
  </head>

  <body>
    <h1>Cloudinary Video Player</h1>
    <h2>Adaptive streaming</h2>
    <h3>MPEG-DASH</h3>
    <p>In network tab look for mpd manifest and .mp4dv and .mp4da chunks</p>

    <div class="row video-container">
      <video
        id="example-player-dash"
        controls
        muted
        width="680"
        height="400"
        class="cld-video-player cld-video-player-skin-dark"
      ></video>
    </div>
    <footer>
      <p>
        Video attribute:
        <a
          href="https://commons.wikimedia.org/wiki/File:Humpbackwhale_singing.webm"
          target="_blank"
          >Wikipedia Commons Humpback Whale Singing</a
        >
      </p>
    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Bootstrap -->
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>

    <!-- Cloudinary Video Player Dependencies -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/cloudinary-core/2.3.0/cloudinary-core-shrinkwrap.js"
    ></script>
    <script
      type="text/javascript"
      src="https://unpkg.com/cloudinary-video-player/dist/cld-video-player.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/dashjs/2.6.3/dash.all.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-dash/2.9.2/videojs-dash.min.js"
    ></script>

    <!-- Actual code -->
    <script type="text/javascript">
      var cld = cloudinary.Cloudinary.new({
        cloud_name: 'cloudinary-training'
      })

      // Initialize player
      var playerDash = cld.videoPlayer('example-player-dash')

      // Modify player source

      playerDash
        .source('whale', {
          sourceTypes: ['dash'],
          transformation: {
            streaming_profile: 'hd'
          },
          info: {
            title: 'MPEG-DASH'
          }
        })
        .play()
    </script>
  </body>
</html>
